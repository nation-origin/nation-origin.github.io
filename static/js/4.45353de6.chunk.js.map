{"version":3,"sources":["components/Wallet/WalletMenu.js","components/Layout/Layout.js","Providers.js","components/List/List.js","views/profile.js","components/Filter/Filter.js","views/showroom.js","views/guide/WalletGuide.js","views/guide/BscGuide.js","Routes.js"],"names":["WalletMenu","useWeb3","connect","disconnect","account","navigate","useNavigate","React","useState","anchorEl","setAnchorEl","open","Boolean","handleClose","className","onClick","event","currentTarget","AddressText","address","Menu","id","onClose","MenuListProps","MenuItem","Layout","children","to","Providers","MetadataProvider","Web3","NationContract","List","allItems","pageSize","items","setitems","hasMore","sethasMore","useEffect","slice","length","dataLength","next","append","i","push","loader","endMessage","style","textAlign","map","item","index","Card","Profile","nationContract","useNationContract","md","useMetadata","ownedItems","setownedItems","ownItem","a","methods","balanceOf","call","count","idx","Promise","all","tokenOfOwnerByIndex","tokenIds","tokenId","fetchOwned","MenuProps","PaperProps","maxHeight","ITEM_HEIGHT","width","color","getStyles","name","attrName","theme","fontWeight","indexOf","typography","fontWeightRegular","fontWeightMedium","AttributeGroupFilter","groupName","attributes","onChange","useTheme","setattrName","FormControl","sx","m","InputLabel","Select","labelId","multiple","value","target","attrs","split","group","input","OutlinedInput","label","renderValue","selected","Box","display","flexWrap","gap","Chip","attr","rarity","toFixed","ShowRoom","params","useParams","collection","collectionName","filters","setfilters","settokenId","useMemo","forEach","attrsMap","attrGroups","Object","keys","filter","key","onFilterChange","useCallback","attributeMatched","onTokenIdChagne","Number","token_id","href","TextField","type","variant","sort","b","WalletGuide","BscGuide","CustomRoutes","basename","exact","path","element","Home"],"mappings":"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","file":"static/js/4.45353de6.chunk.js","sourcesContent":["import React from 'react';\n\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport { AddressText } from '../AddressText/AddressText';\nimport { WalletSelect } from '../../providers/WalletSelect';\nimport { useWeb3 } from '../../providers/Web3';\nimport { useNavigate } from 'react-router-dom';\nimport './WalletMenu.css';\n\nexport const WalletMenu = () => {\n  const { connect, disconnect, account } = useWeb3();\n  const navigate = useNavigate();\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n\n\n\n  const menu = () => {\n    return (\n      <>\n        <Menu\n          id=\"basic-menu\"\n          anchorEl={anchorEl}\n          open={open}\n          onClose={handleClose}\n          MenuListProps={{\n            'aria-labelledby': 'basic-button',\n          }}\n        >\n          <MenuItem onClick={() => navigate('/profile')}>我的收藏</MenuItem>\n          <MenuItem onClick={disconnect}>断开连接</MenuItem>\n        </Menu>\n      </>\n    )\n  }\n\n\n  return (\n    <div className=\"wallet-menu\">\n      {\n        account ? <>\n          <button className=\"wallet-connect-btn\" onClick={handleClick}>\n            <AddressText address={account} />\n          </button>\n          {menu()}\n        </>\n          :\n      <button className=\"wallet-connect-btn\" onClick={connect}>连接钱包</button>\n      } \n    </div>\n  )\n}\n\n","import React from 'react';\nimport { WalletMenu } from '../Wallet/WalletMenu';\nimport { Link } from 'react-router-dom';\n\nimport './Layout.css';\n\nexport const Layout = ({ children }) => {\n\treturn (\n\t\t<>\n\t\t\t<nav className=\"nav\">\n\t\t\t\t<Link to=\"/\"><h2>Nation Origins</h2></Link>\n\t\t\t\t<WalletMenu />\n\t\t\t</nav>\n\t\t\t<main>\n\t\t\t\t{children}\n\t\t\t</main>\n\t\t</>\n\t)\n}","import React from 'react';\nimport { Web3Provider } from './providers/Web3';\nimport { NationContractProvider } from './providers/NationContract';\nimport { MetadataProvider } from './providers/MetadataProvider';\nimport { Layout } from './components/Layout/Layout';\n\nfunction Providers({ children }) {\n  return (\n    <>\n      <MetadataProvider>\n        <Web3Provider>\n          <NationContractProvider>\n            <Layout>\n              {children}\n            </Layout>\n          </NationContractProvider>\n        </Web3Provider>\n      </MetadataProvider>\n    </>\n  );\n}\n\nexport default Providers;\n","import React from 'react';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport { Card } from '../Card/Card';\n\nimport './List.css';\n\nexport const List = ({ allItems, pageSize = 20 }) => {\n    const [items, setitems] = React.useState([]);\n    const [hasMore, sethasMore] = React.useState(true);\n\n    React.useEffect(() => {\n        setitems(allItems.slice(0, pageSize));\n        sethasMore(allItems.length > pageSize);\n    }, [allItems, pageSize])\n\n    const fetchMoreData = () => {\n        if (items.length >= allItems.length) {\n            sethasMore(false);\n            return\n        }\n\n        let append = [];\n        for (let i = items.length; i < allItems.length && i < items.length + pageSize; i++) {\n            append.push(allItems[i]);\n        }\n\n        setitems([...items, ...append])\n    }\n\n    return (\n        <>\n            <InfiniteScroll\n                dataLength={items.length}\n                next={fetchMoreData}\n                hasMore={hasMore}\n                loader={<h4>Loading...</h4>}\n                endMessage={\n                    <p style={{ textAlign: \"center\" }}>\n                        <b></b>\n                    </p>\n                }\n            >\n                <div className=\"card-box\">\n                    {items.map((item, index) => <Card key={index} item={item} />)}\n                </div>\n            </InfiniteScroll>\n        </>\n    )\n}","import React from 'react';\nimport { useMetadata } from '../providers/MetadataProvider';\nimport { useNationContract } from '../providers/NationContract';\nimport { useWeb3 } from '../providers/Web3';\nimport { useNavigate } from 'react-router';\nimport { List } from '../components/List/List';\n\nimport './profile.css';\n\nexport const Profile = () => {\n    const { account } = useWeb3();\n    const navigate = useNavigate();\n    const nationContract = useNationContract();\n    const md = useMetadata();\n    const [ownedItems, setownedItems] = React.useState([]);\n    const ownItem = Boolean(ownedItems && ownedItems.length > 0);\n\n\n\n    React.useEffect(() => {\n\n        async function fetchOwned() {\n            let count = await nationContract.methods.balanceOf(account).call();\n            let idx = [];\n            for (let i = 0; i < count; i++) {\n                idx.push(i);\n            }\n\n            let tokenIds = await Promise.all(\n                idx.map(i => {\n                    return nationContract.methods.tokenOfOwnerByIndex(account, i).call()\n                })\n            );\n\n\n            let items = tokenIds.map(tokenId => {\n                return md.items[tokenId - 1]\n            });\n\n            setownedItems(items)\n        }\n\n        if (!account) {\n            navigate(\"/\");\n        }\n\n        if (!account || !nationContract || !md) {\n            return\n        }\n\n\n        fetchOwned()\n\n    }, [account, nationContract, navigate, md])\n\n    return (\n        <>\n            {ownItem\n                ? < List allItems={ownedItems} />\n                : <h4 className=\"notice\">抱歉! 啥都没有呢~</h4>\n            }\n        </>\n    )\n}\n","import * as React from 'react';\nimport { useTheme } from '@mui/material/styles';\nimport Box from '@mui/material/Box';\nimport OutlinedInput from '@mui/material/OutlinedInput';\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\nimport FormControl from '@mui/material/FormControl';\nimport Select from '@mui/material/Select';\nimport Chip from '@mui/material/Chip';\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 250,\n      color: '#000'\n    },\n  },\n};\n\nfunction getStyles(name, attrName, theme) {\n  return {\n    fontWeight:\n      attrName.indexOf(name) === -1\n        ? theme.typography.fontWeightRegular\n        : theme.typography.fontWeightMedium,\n  };\n}\n\nexport const AttributeGroupFilter = ({ groupName, attributes, onChange }) => {\n  const theme = useTheme();\n  const [attrName, setattrName] = React.useState([]);\n\n\n  const handleChange = (event) => {\n    const {\n      target: { value },\n    } = event;\n    const attrs = typeof value === 'string' ? value.split(',') : value;\n    onChange && onChange({ group: groupName, attrs })\n    setattrName(attrs);\n  };\n\n  return (\n    <div>\n      <FormControl sx={{ m: 1, width: 250 }}>\n        <InputLabel color=\"secondary\" id=\"demo-multiple-chip-label\">{groupName}</InputLabel>\n        <Select\n          labelId=\"demo-multiple-chip-label\"\n          id=\"demo-multiple-chip\"\n          multiple\n          value={attrName}\n          onChange={handleChange}\n          input={<OutlinedInput color=\"secondary\" id=\"select-multiple-chip\" label={groupName} />}\n          renderValue={(selected) => (\n            <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5 }}>\n              {selected.map((value) => (\n                <Chip key={value} label={value} />\n              ))}\n            </Box>\n          )}\n          MenuProps={MenuProps}\n        >\n          {attributes.map((attr) => (\n            <MenuItem\n              key={attr.value}\n              value={attr.value}\n              style={getStyles(attr.value, attrName, theme)}\n            >\n              {`${attr.value} - 稀有度${(attr.rarity * 100).toFixed(2)}%`}\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n    </div>\n  );\n}","import React from 'react';\nimport { List } from '../components/List/List';\nimport { useMetadata } from '../providers/MetadataProvider';\nimport { AttributeGroupFilter } from '../components/Filter/Filter';\nimport TextField from '@mui/material/TextField';\nimport { useParams } from \"react-router-dom\";\n\n\nimport './showroom.css';\n\nfunction attributeMatched(item, filters) {\n\n    for (const group of Object.keys(filters)) {\n        for (const value of filters[group]) {\n            if (!item.attrsMap[value]) { return false }\n        }\n    }\n    return true\n}\n\nexport const ShowRoom = () => {\n    const params = useParams();\n    const collection = useMetadata(params.collectionName);\n    const [filters, setfilters] = React.useState({});\n    const [items, setitems] = React.useState([]);\n    const [tokenId, settokenId] = React.useState(0);\n\n    const allItems = React.useMemo(() => {\n        if (!collection) { return [] }\n        return collection.items.map(item => {\n            let m = {};\n            item.attributes.forEach(attr => m[attr.value] = 1);\n            item.attrsMap = m;\n            return item\n        })\n    }, [collection]);\n\n    React.useEffect(() => {\n        if (!collection) { return [] }\n        setitems(allItems);\n    }, [collection, allItems])\n\n    const attrGroups = React.useMemo(() => {\n        if (!collection) {\n            return\n        }\n\n        return Object.keys(collection.attributes).filter(key => key !== '历史长度').map(key => {\n            const group = collection.attributes[key];\n            return {\n                name: key,\n                attributes: Object.keys(group).map(key => {\n                    return {\n                        value: key,\n                        count: group[key],\n                        rarity: group[key] / collection.items.length\n                    }\n                }),\n            }\n        })\n    }, [collection])\n\n    const onFilterChange = React.useCallback(({ group, attrs }) => {\n        filters[group] = attrs;\n        setfilters(filters)\n        settokenId(0);\n        setitems(allItems.filter(item => attributeMatched(item, filters)));\n    }, [filters, allItems])\n    \n    const onTokenIdChagne = React.useCallback(({ target: { value } }) => {\n        value = Number(value);\n        settokenId(value);\n        setfilters({})\n        if (value === 0) {\n            setitems(allItems)\n        } else {\n            setitems(allItems.filter(item => item.token_id === value));\n        }\n        \n    }, [settokenId, setfilters, setitems, allItems])\n\n\n    return (\n        <>{\n            collection ?\n                <>\n                    <div className=\"collection-meta\">\n                        <h1 className=\"title\">{collection.collection.name}</h1>\n                        {/* <p className=\"description\">{collection.description}</p> */}\n                        <p>\n                            <a className=\"contract\" target=\"__blank\" href=\"https://bscscan.com/address/0xf955162dc438913b4660e892a75d0f9767f6f48e\">Contract: 0xf955162dc438913b4660e892a75d0f9767f6f48e</a>\n                        </p>\n                        \n                    </div>\n                    <div className=\"items-box\">\n                        <div className=\"items-filter-box\">\n                            <p className=\"items-count\">{`共${items.length}项`}</p>\n                            <TextField sx={{ m: 1, width: 250 }}\n                                type=\"number\"\n                                color=\"secondary\"\n                                label=\"编号\"\n                                value={tokenId}\n                                onChange={onTokenIdChagne}\n                                variant=\"outlined\" />\n\n                            {\n                                attrGroups.map(group => <AttributeGroupFilter\n                                    key={group.name}\n                                    groupName={group.name}\n                                    attributes={group.attributes.sort((a, b) => a.rarity - b.rarity)}\n                                    onChange={onFilterChange} />)\n                            }\n                        </div>\n                        <div className=\"items-list\">\n                            <List allItems={items} />\n                        </div>\n\n                    </div>\n                </>\n                : <p>加载中</p>\n\n        }\n\n        </>\n    )\n}","import React from 'react';\n\n\nexport const WalletGuide = () => {\n    return (\n        <>\n            <h1>Metamask小狐狸钱包使用指南</h1>\n        </>\n    )\n}","import React from 'react';\n\n\nexport const BscGuide = () => {\n    return (\n        <>\n            <h1>Bsc配置指南</h1>\n        </>\n    )\n}","import React from \"react\";\nimport Providers from \"./Providers\";\nimport { HomeView } from \"./views/Home/Home\";\nimport { Profile } from './views/profile';\nimport { ShowRoom } from './views/showroom';\nimport { WalletGuide } from './views/guide/WalletGuide';\nimport { BscGuide } from './views/guide/BscGuide';\n\nimport { HashRouter, Route, Routes } from \"react-router-dom\";\n\nfunction CustomRoutes() {\n    return (\n        <HashRouter basename={'/'}>\n            <Providers>\n                <Routes>\n                    <Route exact path=\"/profile\" element={<Profile />} />\n                    <Route exact path=\"/guide/wallet\" element={<WalletGuide />} />\n                    <Route exact path=\"/guide/bsc\" element={<BscGuide />} />\n                    <Route path=\"/collection/:collectionName\" element={<ShowRoom />} />\n                    <Route path=\"/\" element={<HomeView />} />\n                </Routes>\n            </Providers>\n        </HashRouter>\n    )\n}\n\nexport default CustomRoutes;"],"sourceRoot":""}