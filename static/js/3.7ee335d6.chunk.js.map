{"version":3,"sources":["providers/Web3.js","components/helper/BscRPCHelper.js","providers/NationContract.js","components/AddressText/AddressText.js","components/Wallet/WalletMenu.js","components/Layout/Layout.js","Providers.js","components/Card/Card.js","components/List/List.js","views/profile.js","components/Filter/Filter.js","views/showroom.js","views/guide/WalletGuide.js","views/guide/BscGuide.js","Routes.js"],"names":["Web3Context","React","createContext","getWeb3","a","window","ethereum","web3","Web3","enable","console","log","provider","providers","HttpProvider","Web3Provider","children","useState","undefined","setweb3","account","setaccount","chainId","setchainId","disconnect","useCallback","connect","on","accounts","instance","eth","getAccounts","length","net","getId","Provider","value","useWeb3","useContext","BSCMainNetRPCHelper","NationContractContext","NationContractProvider","setinstance","isBsc","setisBsc","useEffect","deployedNetwork","NationContract","networks","address","Contract","abi","createInstance","useNationContract","AddressText","style","prefix","slice","suffix","WalletMenu","navigate","useNavigate","anchorEl","setAnchorEl","open","Boolean","handleClose","className","onClick","event","currentTarget","Menu","id","onClose","MenuListProps","MenuItem","Layout","to","Providers","MetadataProvider","SPECIAL_ATTRIBUTE","Card","item","contract","ownerAddress","setownerAddress","useMemo","attributes","some","attr","isSpecialCard","methods","ownerOf","token_id","call","owner","getToken","src","image","alt","name","description","Owner","props","size","fontSize","OwnerLoader","speed","width","height","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","List","allItems","pageSize","items","setitems","hasMore","sethasMore","dataLength","next","append","i","push","loader","endMessage","textAlign","map","index","Profile","nationContract","md","useMetadata","ownedItems","setownedItems","balanceOf","count","idx","Promise","all","tokenOfOwnerByIndex","tokenIds","tokenId","fetchOwned","MenuProps","PaperProps","maxHeight","ITEM_HEIGHT","color","getStyles","attrName","theme","fontWeight","indexOf","typography","fontWeightRegular","fontWeightMedium","AttributeGroupFilter","groupName","onChange","useTheme","setattrName","FormControl","sx","m","InputLabel","Select","labelId","multiple","target","attrs","split","group","input","OutlinedInput","label","renderValue","selected","Box","display","flexWrap","gap","Chip","rarity","toFixed","ShowRoom","params","useParams","collection","collectionName","filters","setfilters","settokenId","forEach","attrsMap","attrGroups","Object","keys","filter","key","onFilterChange","attributeMatched","onTokenIdChagne","Number","href","TextField","type","variant","sort","b","WalletGuide","BscGuide","CustomRoutes","basename","exact","path","element","Home"],"mappings":"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","file":"static/js/3.7ee335d6.chunk.js","sourcesContent":["import React from 'react';\nimport Web3 from 'web3';\n\nconst Web3Context = React.createContext({});\n\n\nasync function getWeb3() {\n    if (window.ethereum) {\n        const web3 = new Web3(window.ethereum);\n        try {\n            // Request account access if needed\n            await window.ethereum.enable();\n            // Accounts now exposed\n\n            return web3\n        } catch (error) {\n            console.log(error);\n        }\n    }\n    // Legacy dapp browsers...\n    else if (window.web3) {\n        // Use Mist/MetaMask's provider.\n        const web3 = window.web3;\n        console.log(\"Injected web3 detected.\");\n        return web3\n    }\n    // Fallback to localhost; use dev console port by default...\n    else {\n        const provider = new Web3.providers.HttpProvider(\n            \"http://127.0.0.1:8545\"\n        );\n        const web3 = new Web3(provider);\n        console.log(\"No web3 instance injected, using Local web3.\");\n        return web3\n    }\n}\n\n\nexport const Web3Provider = ({ children }) => {\n    const [web3, setweb3] = React.useState(undefined);\n    const [account, setaccount] = React.useState(undefined);\n    const [chainId, setchainId] = React.useState(undefined);\n\n\n    const disconnect = React.useCallback(() => {\n        if (web3) {\n            setweb3(undefined);\n            setaccount(undefined);\n        }\n    }, [setweb3, web3])\n\n    const connect = React.useCallback(async () => {\n        if (web3) { return }\n        window.ethereum.on('accountsChanged', (accounts) => setaccount(accounts[0] || undefined));\n        window.ethereum.on('chainChanged', (chainId) => setchainId(chainId));\n        \n        const instance = await getWeb3();\n        const accounts = await instance.eth.getAccounts();\n        if (accounts.length > 0) {\n            setaccount(accounts[0])\n        }\n\n\n        setweb3(instance);\n        setchainId(await instance.eth.net.getId());\n\n    }, [web3, setweb3, setaccount])\n\n    return (\n        <>\n            <Web3Context.Provider value={{ chainId, web3, connect, disconnect, account }}>\n                {children}\n            </Web3Context.Provider>\n        </>\n    )\n}\n\nexport const useWeb3 = () => {\n    return React.useContext(Web3Context);\n}","import React from 'react';\n\n\n\nexport const BSCMainNetRPCHelper = () => {\n    return (\n        <>\n            <h1>请先把钱包的网络切换至币安智能链(BSC)主网</h1>\n        </>\n    )\n}","import React from 'react';\nimport { useWeb3 } from './Web3';\nimport NationContract from '../contracts/Nation.json';\nimport { BSCMainNetRPCHelper } from '../components/helper/BscRPCHelper';\n\nconst NationContractContext = React.createContext(undefined);\n\n\nexport const NationContractProvider = ({ children }) => {\n\n    const {web3, chainId} = useWeb3();\n\n    const [instance, setinstance] = React.useState(undefined);\n    const [isBsc, setisBsc] = React.useState(true);\n    React.useEffect(() => {\n        if (!web3 || !chainId) { return }\n        async function createInstance() {\n            setisBsc(chainId == 97 || chainId == 56 || chainId == 1337);\n\n            \n            const deployedNetwork = NationContract.networks[chainId];\n            console.log(deployedNetwork.address)\n            const instance = new web3.eth.Contract(\n                NationContract.abi,\n                deployedNetwork && deployedNetwork.address,\n            );\n            setinstance(instance)\n        }\n\n        createInstance()\n    }, [web3, chainId])\n\n\n    return (\n        <NationContractContext.Provider value={instance}>\n            {\n                isBsc\n                    ?\n                    children\n                    :\n                    <BSCMainNetRPCHelper />\n            }\n        </NationContractContext.Provider>\n    )\n}\n\nexport const useNationContract = () => {\n    return React.useContext(NationContractContext);\n}","import React from 'react';\n\n\n\nexport const AddressText = ({ address, style }) => {\n    const prefix = address.slice(0, 5);\n    const suffix = address.slice(38, 42);\n    return (\n        <span style={style}>\n            {`${prefix}...${suffix}`}\n        </span>\n    )\n}","import React from 'react';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport { AddressText } from '../AddressText/AddressText';\nimport { useWeb3 } from '../../providers/Web3';\nimport { useNavigate } from 'react-router-dom';\nimport './WalletMenu.css';\n\n\nexport const WalletMenu = () => {\n  const { connect, disconnect, account } = useWeb3();\n  const navigate = useNavigate();\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const menu = () => {\n    return (\n      <>\n        <Menu\n          id=\"basic-menu\"\n          anchorEl={anchorEl}\n          open={open}\n          onClose={handleClose}\n          MenuListProps={{\n            'aria-labelledby': 'basic-button',\n          }}\n        >\n          <MenuItem onClick={() => navigate('/profile')}>我的收藏</MenuItem>\n          <MenuItem onClick={disconnect}>断开连接</MenuItem>\n        </Menu>\n      </>\n    )\n  }\n\n\n  return (\n    <div className=\"wallet-menu\">\n      {\n        account ? <>\n          <button className=\"wallet-connect-btn\" onClick={handleClick}>\n            <AddressText address={account} />\n          </button>\n          {menu()}\n        </>\n          :\n          <button className=\"wallet-connect-btn\" onClick={connect}>连接钱包</button>\n      }\n    </div>\n  )\n}","import React from 'react';\nimport { WalletMenu } from '../Wallet/WalletMenu';\nimport { Link } from 'react-router-dom';\n\nimport './Layout.css';\n\nexport const Layout = ({ children }) => {\n\treturn (\n\t\t<>\n\t\t\t<nav className=\"nav\">\n\t\t\t\t<Link to=\"/\"><h2>Nation Origins</h2></Link>\n\t\t\t\t<WalletMenu />\n\t\t\t</nav>\n\t\t\t<main>\n\t\t\t\t{children}\n\t\t\t</main>\n\t\t</>\n\t)\n}","import React from 'react';\nimport { Web3Provider } from './providers/Web3';\nimport { NationContractProvider } from './providers/NationContract';\nimport { MetadataProvider } from './providers/MetadataProvider';\nimport { Layout } from './components/Layout/Layout';\n\nfunction Providers({ children }) {\n  return (\n    <>\n      <MetadataProvider>\n        <Web3Provider>\n          <NationContractProvider>\n            <Layout>\n              {children}\n            </Layout>\n          </NationContractProvider>\n        </Web3Provider>\n      </MetadataProvider>\n    </>\n  );\n}\n\nexport default Providers;\n","import React from 'react';\nimport { useNationContract } from '../../providers/NationContract';\nimport ContentLoader from \"react-content-loader\"\nimport Jdenticon from 'react-jdenticon';\nimport { AddressText } from '../AddressText/AddressText';\n\nimport './Card.css';\n\nconst SPECIAL_ATTRIBUTE = {\n  '无政府主义': 1,\n  '脑机': 1,\n  '飞碟残骸': 1,\n  '幸运': 1,\n  '比特币': 1,\n  '太空旅行': 1,\n  '熔岩地貌': 1,\n  '风蚀地貌': 1,\n  '冰川地貌': 1,\n};\n\nfunction isSpecialCard(item) {\n  return item.attributes.some((attr) => {\n    return SPECIAL_ATTRIBUTE[attr.value] > 0\n  })\n}\n\nexport const Card = ({ item }) => {\n  const contract = useNationContract();\n  const [ownerAddress, setownerAddress] = React.useState(undefined);\n\n  const isSpecial = React.useMemo(() => {\n    return isSpecialCard(item)\n  }, [item])\n\n  React.useEffect(() => {\n\n    async function getToken() {\n      if (!contract) {\n        console.log('contract not inited');\n        return\n      }\n\n      try {\n        const owner = await contract.methods.ownerOf(item.token_id).call();\n        setownerAddress(owner);\n      } catch (e) {\n\n      }\n\n    }\n\n    getToken()\n  }, [contract, item])\n\n\n  return (\n    <>\n      {\n        item &&\n\n        <div className=\"card\">\n          <img src={item.image} alt={item.name} />\n          <div className=\"card-meta\">\n            <h2 className=\"item-title\">{item.description}</h2>\n            <p className=\"item-desc\">{item.name}</p>\n            {\n              ownerAddress\n                ?\n                <Owner address={ownerAddress} />\n                : <OwnerLoader />\n            }\n\n          </div>\n          {/* {isSpecial && <img className=\"special\" src=\"fire.gif\" alt=\"special\" />} */}\n        </div>\n      }\n\n    </>\n  )\n}\n\nconst Owner = (props) => {\n  const { address } = props;\n  return (\n    <div className=\"owner-box\">\n      <Jdenticon size=\"48\" value={address} />\n      <div className=\"owner-address\">\n        <AddressText style={{ fontSize: 15}} address={address} />\n      </div>\n    </div>\n\n  )\n}\n\nconst OwnerLoader = (props) => {\n  return (\n    <ContentLoader\n      speed={2}\n      width={400}\n      height={160}\n      viewBox=\"0 0 400 160\"\n      backgroundColor=\"#f3f3f3\"\n      foregroundColor=\"#ecebeb\"\n      {...props}\n    >\n      <rect x=\"68\" y=\"26\" rx=\"3\" ry=\"3\" width=\"88\" height=\"15\" />\n      <rect x=\"0\" y=\"5\" rx=\"3\" ry=\"3\" height=\"48\" width=\"48\"/>\n    </ContentLoader>\n  )\n}","import React from 'react';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport { Card } from '../Card/Card';\n\nimport './List.css';\n\nexport const List = ({ allItems, pageSize = 20 }) => {\n    const [items, setitems] = React.useState([]);\n    const [hasMore, sethasMore] = React.useState(true);\n\n    React.useEffect(() => {\n        setitems(allItems.slice(0, pageSize));\n        sethasMore(allItems.length > pageSize);\n    }, [allItems, pageSize])\n\n    const fetchMoreData = () => {\n        if (items.length >= allItems.length) {\n            sethasMore(false);\n            return\n        }\n\n        let append = [];\n        for (let i = items.length; i < allItems.length && i < items.length + pageSize; i++) {\n            append.push(allItems[i]);\n        }\n\n        setitems([...items, ...append])\n    }\n\n    return (\n        <>\n            <InfiniteScroll\n                dataLength={items.length}\n                next={fetchMoreData}\n                hasMore={hasMore}\n                loader={<h4>Loading...</h4>}\n                endMessage={\n                    <p style={{ textAlign: \"center\" }}>\n                        <b></b>\n                    </p>\n                }\n            >\n                <div className=\"card-box\">\n                    {items.map((item, index) => <Card key={index} item={item} />)}\n                </div>\n            </InfiniteScroll>\n        </>\n    )\n}","import React from 'react';\nimport { useMetadata } from '../providers/MetadataProvider';\nimport { useNationContract } from '../providers/NationContract';\nimport { useWeb3 } from '../providers/Web3';\nimport { useNavigate } from 'react-router';\nimport { List } from '../components/List/List';\n\nexport const Profile = () => {\n    const { account } = useWeb3();\n    const navigate = useNavigate();\n    const nationContract = useNationContract();\n    const md = useMetadata();\n    const [ownedItems, setownedItems] = React.useState([]);\n\n\n\n    React.useEffect(() => {\n\n        async function fetchOwned() {\n            let count = await nationContract.methods.balanceOf(account).call();\n            let idx = [];\n            for (let i = 0; i < count; i++) {\n                idx.push(i);\n            }\n\n            let tokenIds = await Promise.all(\n                idx.map(i => {\n                    return nationContract.methods.tokenOfOwnerByIndex(account, i).call()\n                })\n            );\n\n\n            let items = tokenIds.map(tokenId => {\n                return md.items[tokenId - 1]\n            });\n\n            setownedItems(items)\n        }\n\n        if (!account) {\n            navigate(\"/\");\n        }\n\n        if (!account || !nationContract || !md) {\n            return\n        }\n\n\n        fetchOwned()\n\n    }, [account, nationContract, navigate, md])\n\n    return (\n        <>\n            {account && <List allItems={ownedItems} />}\n        </>\n    )\n}\n","import * as React from 'react';\nimport { useTheme } from '@mui/material/styles';\nimport Box from '@mui/material/Box';\nimport OutlinedInput from '@mui/material/OutlinedInput';\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\nimport FormControl from '@mui/material/FormControl';\nimport Select from '@mui/material/Select';\nimport Chip from '@mui/material/Chip';\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 250,\n      color: '#000'\n    },\n  },\n};\n\nfunction getStyles(name, attrName, theme) {\n  return {\n    fontWeight:\n      attrName.indexOf(name) === -1\n        ? theme.typography.fontWeightRegular\n        : theme.typography.fontWeightMedium,\n  };\n}\n\nexport const AttributeGroupFilter = ({ groupName, attributes, onChange }) => {\n  const theme = useTheme();\n  const [attrName, setattrName] = React.useState([]);\n\n\n  const handleChange = (event) => {\n    const {\n      target: { value },\n    } = event;\n    const attrs = typeof value === 'string' ? value.split(',') : value;\n    onChange && onChange({ group: groupName, attrs })\n    setattrName(attrs);\n  };\n\n  return (\n    <div>\n      <FormControl sx={{ m: 1, width: 250 }}>\n        <InputLabel color=\"secondary\" id=\"demo-multiple-chip-label\">{groupName}</InputLabel>\n        <Select\n          labelId=\"demo-multiple-chip-label\"\n          id=\"demo-multiple-chip\"\n          multiple\n          value={attrName}\n          onChange={handleChange}\n          input={<OutlinedInput color=\"secondary\" id=\"select-multiple-chip\" label={groupName} />}\n          renderValue={(selected) => (\n            <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5 }}>\n              {selected.map((value) => (\n                <Chip key={value} label={value} />\n              ))}\n            </Box>\n          )}\n          MenuProps={MenuProps}\n        >\n          {attributes.map((attr) => (\n            <MenuItem\n              key={attr.value}\n              value={attr.value}\n              style={getStyles(attr.value, attrName, theme)}\n            >\n              {`${attr.value} - 稀有度${(attr.rarity * 100).toFixed(2)}%`}\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n    </div>\n  );\n}","import React from 'react';\nimport { List } from '../components/List/List';\nimport { useMetadata } from '../providers/MetadataProvider';\nimport { AttributeGroupFilter } from '../components/Filter/Filter';\nimport TextField from '@mui/material/TextField';\nimport { useParams } from \"react-router-dom\";\n\n\nimport './showroom.css';\n\nfunction attributeMatched(item, filters) {\n\n    for (const group of Object.keys(filters)) {\n        for (const value of filters[group]) {\n            if (!item.attrsMap[value]) { return false }\n        }\n    }\n    return true\n}\n\nexport const ShowRoom = () => {\n    const params = useParams();\n    const collection = useMetadata(params.collectionName);\n    const [filters, setfilters] = React.useState({});\n    const [items, setitems] = React.useState([]);\n    const [tokenId, settokenId] = React.useState(0);\n\n    const allItems = React.useMemo(() => {\n        if (!collection) { return [] }\n        return collection.items.map(item => {\n            let m = {};\n            item.attributes.forEach(attr => m[attr.value] = 1);\n            item.attrsMap = m;\n            return item\n        })\n    }, [collection]);\n\n    React.useEffect(() => {\n        if (!collection) { return [] }\n        setitems(allItems);\n    }, [collection, allItems])\n\n    const attrGroups = React.useMemo(() => {\n        if (!collection) {\n            return\n        }\n\n        return Object.keys(collection.attributes).filter(key => key !== '历史长度').map(key => {\n            const group = collection.attributes[key];\n            return {\n                name: key,\n                attributes: Object.keys(group).map(key => {\n                    return {\n                        value: key,\n                        count: group[key],\n                        rarity: group[key] / collection.items.length\n                    }\n                }),\n            }\n        })\n    }, [collection])\n\n    const onFilterChange = React.useCallback(({ group, attrs }) => {\n        filters[group] = attrs;\n        setfilters(filters)\n        settokenId(0);\n        setitems(allItems.filter(item => attributeMatched(item, filters)));\n    }, [filters, allItems])\n    \n    const onTokenIdChagne = React.useCallback(({ target: { value } }) => {\n        value = Number(value);\n        settokenId(value);\n        setfilters({})\n        if (value === 0) {\n            setitems(allItems)\n        } else {\n            setitems(allItems.filter(item => item.token_id === value));\n        }\n        \n    }, [settokenId, setfilters, setitems, allItems])\n\n\n    return (\n        <>{\n            collection ?\n                <>\n                    <div className=\"collection-meta\">\n                        <h1 className=\"title\">{collection.collection.name}</h1>\n                        {/* <p className=\"description\">{collection.description}</p> */}\n                        <p>\n                            <a className=\"contract\" target=\"__blank\" href=\"https://bscscan.com/address/0xf955162dc438913b4660e892a75d0f9767f6f48e\">Contract: 0xf955162dc438913b4660e892a75d0f9767f6f48e</a>\n                        </p>\n                        \n                    </div>\n                    <div className=\"items-box\">\n                        <div className=\"items-filter-box\">\n                            <p className=\"items-count\">{`共${items.length}项`}</p>\n                            <TextField sx={{ m: 1, width: 250 }}\n                                type=\"number\"\n                                color=\"secondary\"\n                                label=\"编号\"\n                                value={tokenId}\n                                onChange={onTokenIdChagne}\n                                variant=\"outlined\" />\n\n                            {\n                                attrGroups.map(group => <AttributeGroupFilter\n                                    key={group.name}\n                                    groupName={group.name}\n                                    attributes={group.attributes.sort((a, b) => a.rarity - b.rarity)}\n                                    onChange={onFilterChange} />)\n                            }\n                        </div>\n                        <div className=\"items-list\">\n                            <List allItems={items} />\n                        </div>\n\n                    </div>\n                </>\n                : <p>加载中</p>\n\n        }\n\n        </>\n    )\n}","import React from 'react';\n\n\nexport const WalletGuide = () => {\n    return (\n        <>\n            <h1>Metamask小狐狸钱包使用指南</h1>\n        </>\n    )\n}","import React from 'react';\n\n\nexport const BscGuide = () => {\n    return (\n        <>\n            <h1>Bsc配置指南</h1>\n        </>\n    )\n}","import React from \"react\";\nimport Providers from \"./Providers\";\nimport { HomeView } from \"./views/Home/Home\";\nimport { Profile } from './views/profile';\nimport { ShowRoom } from './views/showroom';\nimport { WalletGuide } from './views/guide/WalletGuide';\nimport { BscGuide } from './views/guide/BscGuide';\n\nimport { HashRouter, Route, Routes } from \"react-router-dom\";\n\nfunction CustomRoutes() {\n    return (\n        <HashRouter basename={'/'}>\n            <Providers>\n                <Routes>\n                    <Route exact path=\"/profile\" element={<Profile />} />\n                    <Route exact path=\"/guide/wallet\" element={<WalletGuide />} />\n                    <Route exact path=\"/guide/bsc\" element={<BscGuide />} />\n                    <Route path=\"/collection/:collectionName\" element={<ShowRoom />} />\n                    <Route path=\"/\" element={<HomeView />} />\n                </Routes>\n            </Providers>\n        </HashRouter>\n    )\n}\n\nexport default CustomRoutes;"],"sourceRoot":""}